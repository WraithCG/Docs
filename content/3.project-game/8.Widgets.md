# UI & Widgets

The user interface is built upon the **WidgetsManagementSystem**, which prioritizes reusability and consistency.

## Widget Architecture
Instead of using raw UMG primitives (like standard Borders or Text blocks), we use custom **Element Widgets** (prefixed with `E_`).
* **E_Button:** A reusable button with standardized styling for color, text, and states.
* **E_FixedText / E_VariableText:** Standardized text blocks.
* **E_GameTitle:** A placeholder for logos or title images.
* **Stacked Elements:** `E_HorizontallyStackedWidgetElements` and `E_VerticallyStackedWidgetElements` allow you to append lists of widgets dynamically.

![Included Widgets and Elements](https://cdnb.artstation.com/p/assets/images/images/094/998/923/large/wraithcg-screenshot-2025-12-26-235738.webp?1767287594)

**Editing Tip:** When using Stacked Arrays, child widgets added during Pre-Construct (for editor preview) become locked in the Details panel. To edit them:
1.  **Remove** the widget from the array/slot.
2.  **Compile** the blueprint.
3.  **Edit** the widget properties.
4.  **Add** it back to the slot.

## Adding New Widget Screens
To add a new menu or HUD screen:
1.  **Create Widget:** Create a new Widget Blueprint for your screen.
2.  **Define Category:** Open `E_WidgetScreen` (in `Components > Widgets > Enumeration`) and add a new Enum entry for your screen (e.g., "SkillTree").
3.  **Register Data:** Open `PDA_DA_WidgetData`. Add a new element mapping your new **WidgetScreen** category to your **WidgetBlueprint**.
4.  **Open Screen:** To display it during gameplay, call the `AddWidgetToScreen` interface function on the **GameMode**, passing in your new screen category.

![Play Level Sequence In Background](https://cdna.artstation.com/p/assets/images/images/094/999/610/large/wraithcg-screenshot-2026-01-01-232247.webp?1767290025)

## Background Level Sequences
You can play cinematic Level Sequences behind your UI (e.g., a moving background in the Main Menu).
1.  In `PDA_DA_WidgetData`, enable the **PlayLevelSequence** boolean.
2.  Add sequence references to the **LevelSequences** array.
3.  **Important:** Level sequences are level-specific. A sequence created in the `RunnerMap` will not play if the player is currently in the `DayMap`. You must ensure the sequence exists in the current level.