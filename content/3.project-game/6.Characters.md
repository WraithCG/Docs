# Character Selection & Customization

This project integrates the **CharacterSelectionSystem V1.2** & **CharacterCustomizationSystem V1.1**.

## Character Selection Logic

![CharacterDA](https://cdnb.artstation.com/p/assets/images/images/094/999/603/large/wraithcg-screenshot-2026-01-01-232207.webp?1767290020)
* **Function:** This Data Asset (`DA_CharacterData_XYZ`) holds all selection info (Name, Icon) and customization options (Meshes, Materials) for that specific character.

![CharactersList](https://cdna.artstation.com/p/assets/images/images/094/999/728/large/wraithcg-screenshot-2026-01-01-232921.webp?1767290389)
* **Function:** This Data Asset (`DA_CharacterSelectionData`) holds the list of all playable characters. The order of character data assets here determines how the character will appear for selection in the game.

## Character Customization Logic
In the standalone asset, customization data is usually pulled directly from the character's PlayerAttributes component. In this project, the logic has been updated:
* **Data Source:** Customization data is now fetched from a **Data Asset** specific to the character (`DA_CharacterData_XYZ`).
* **Function:** This Data Asset holds all selection info (Name, Icon) and customization options (Meshes, Materials) for that specific character.

![CustomizationItems DA](https://cdnb.artstation.com/p/assets/images/images/094/999/611/large/wraithcg-screenshot-2026-01-01-232317.webp?1767290034)

## Animation Modifiers
You can overlay custom animations on top of the standard motion matching base for specific actions.
1.  **Enable:** Check `UseCustomAnimationData` in the character's Data Asset.
2.  **Configure:**
    * **ModifierAnimation:** The animation sequence to overlay.
    * **BlendValue:** How strongly to blend the animation (0.0 to 1.0).
    * **BoneToAffect:** Select which bones (from `E_BonesToModify`) are affected (e.g., LeftArm, UpperBody).

![Animation Modification System](https://cdnb.artstation.com/p/assets/images/images/094/999/761/large/wraithcg-screenshot-2026-01-01-233237.webp?1767290593)

*Example Use Case:* You can have a character run with a limp by blending a "limp" animation only on the legs, or hold a unique weapon pose by modifying the UpperBody.
##
*Note that in current setup UpperBodyAnimations are overwritten by LeftArm and RightArm animations. So if you wish to use any animation on Upperbody, you need to include LeftArm and RightArm also in the BonesToAffect list.*

## How to Add New Characters
All characters in this project must inherit from `CBP_SandboxCharacter` to preserve the core movement and camera logic.

1.  **Create Blueprint:** Right-click `CBP_SandboxCharacter` and select **Create Child Class**.
2.  **Setup Mesh:** In the new Blueprint's Event Graph, add the setup logic (copy from an existing character) to plug your specific Skeletal Mesh into the `PlayerSkeletonMesh` variable on BeginPlay.
3.  **Create Data:** Duplicate an existing Character Data Asset (e.g., `DA_CharacterData_UE4`) and rename it for your new character.
4.  **Link:** Open the new Data Asset and set the **Class** variable to your new Character Blueprint.
5.  **Register:** Open `DA_CharacterSelectionData` (Character Selection Data) and add your new Data Asset to the list.
6.  **Sockets:** For customization to work, your new skeleton must have the correct sockets (e.g., `hat`, `armor`, `shoes_l`). Copy these sockets from the `UEFN_Mannequin` skeleton to your new character's skeleton.

![ChildBP](https://cdna.artstation.com/p/assets/images/images/094/999/926/large/wraithcg-dsfsd.webp?1767290979)

## Animation Blueprint (ABP_SandboxCharacter)
The Animation Blueprint has been modified to support the **CharacterAnimationModification** system.
* **Output Pose:** The final pose is a blend of `P_CameraBlended` (Third/First person blends) and `P_AnimModified` (Custom modifiers).
* **Logic:** If the character performs a traversal action (like vaulting), modification is automatically paused to prevent animation conflicts.

![ABP FinalPose](https://cdna.artstation.com/p/assets/images/images/094/999/762/large/wraithcg-screenshot-2026-01-01-233248.webp?1767290598)